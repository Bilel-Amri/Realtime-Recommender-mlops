# Real-Time Recommender System - Environment Configuration
# Copy this file to .env and fill in your values

# Application Settings
APP_ENV=production
DEBUG=false
LOG_LEVEL=INFO

# MLflow Configuration
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_REGISTRY_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=recommender-system
MLFLOW_ARTIFACT_ROOT=file:///workspace/mlflow

# Model Settings
MODEL_NAME=recommender-model
MODEL_STAGE=Production
CANDIDATE_POOL_SIZE=100
RECOMMENDATION_TOP_K=10

# Feature Store Settings
FEATURE_STORE_TYPE=redis  # redis, redis模拟, or feast
FEAST_CORE_URL=http://localhost:6566
REDIS_HOST=localhost
REDIS_PORT=6379
FEAST_ONLINE_STORE_TYPE=redis

# Database Settings (for events and user data)
DATABASE_URL=postgresql://user:password@localhost:5432/recommender
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# Monitoring Settings
METRICS_PORT=8001
PROMETHEUS_RETENTION=15d
DRIFT_DETECTION_THRESHOLD=0.05
ALERT_WEBHOOK_URL=

# Redis Configuration (for caching and online features)
REDIS_CACHE_HOST=localhost
REDIS_CACHE_PORT=6379
REDIS_CACHE_TTL=3600

# Security Settings
API_KEY_ENABLED=false
API_KEYS=key1,key2,key3
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Performance Settings
MAX_REQUEST_SIZE=10485760  # 10MB
REQUEST_TIMEOUT=30
CONCURRENT_REQUESTS=100

# Cold Start Settings
COLD_START_POPULARITY_ITEMS=item_1,item_2,item_3,item_4,item_5
COLD_START_DEFAULT_COUNT=5

# Logging Configuration
LOG_FORMAT=json
LOG_FILE=/var/log/recommender/app.log
LOG_ROTATION_SIZE=104857600
LOG_BACKUP_COUNT=10
